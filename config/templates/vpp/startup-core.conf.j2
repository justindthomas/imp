#
# VPP Core Startup Configuration
# Generated by configure-router.py
#

unix {
  nodaemon
  log /var/log/vpp/core.log
  full-coredump
  cli-listen /run/vpp/core-cli.sock
  gid vpp
  exec /etc/vpp/commands-core.txt
}

api-trace {
  on
}

api-segment {
  gid vpp
}

socksvr {
  socket-name /run/vpp/core-api.sock
  default
}

cpu {
  main-core {{ cpu.core_main }}
{% if cpu.core_workers %}
  corelist-workers {{ cpu.core_workers }}
{% endif %}
}

dpdk {
  dev {{ external.pci }} {
    name external
  }
{% for iface in internal %}
  dev {{ iface.pci }} {
    name {{ iface.vpp_name }}
  }
{% endfor %}
}

plugins {
  plugin linux_cp_plugin.so { enable }
  plugin linux_nl_plugin.so { enable }
}

statseg {
  socket-name /run/vpp/core-stats.sock
}

logging {
  default-log-level debug
  default-syslog-log-level info
}
