#!/usr/bin/env bash
#
# VPP Core Post-Configuration
# Generated by configure-router.py
#
# Configures IPv6 Router Advertisement on internal interfaces
#

export CMD="vppctl -s /run/vpp/core-cli.sock"

sleep 15

# IPv6 RA configuration for internal interfaces
{% for iface in internal %}
{% if iface.ipv6 %}
$CMD ip6 nd {{ iface.vpp_name }} ra-interval 30 15
$CMD ip6 nd {{ iface.vpp_name }} prefix {{ iface.ipv6_ra_prefix }} infinite
$CMD ip6 nd {{ iface.vpp_name }} no ra-suppress
{% endif %}
{% endfor %}
